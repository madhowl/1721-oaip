# Лекция 7: Списки и кортежи

## Введение

Списки и кортежи - это две важные структуры данных в Python, которые позволяют хранить коллекции элементов. Они широко используются в программировании для организации и обработки данных. В этой лекции мы подробно рассмотрим особенности списков и кортежей, их различия, методы работы с ними и области применения.

## Основное содержание

### Что такое списки и кортежи

**Список (list)** - это упорядоченная изменяемая коллекция элементов. Списки могут содержать элементы разных типов и позволяют добавлять, удалять и изменять элементы после создания.

**Кортеж (tuple)** - это упорядоченная неизменяемая коллекция элементов. После создания кортежа нельзя изменить его элементы, добавить или удалить элементы.

```python
# Создание списка
my_list = [1, 2, 3, "Python", True]
empty_list = []

# Создание кортежа
my_tuple = (1, 2, 3, "Python", True)
empty_tuple = ()
another_tuple = 1, 2, 3  # круглые скобки не обязательны
```

### Основные различия между списками и кортежами

| Характеристика | Список | Кортеж |
|----------------|--------|--------|
| Изменяемость | Да | Нет |
| Синтаксис | `[1, 2, 3]` | `(1, 2, 3)` или `1, 2, 3` |
| Производительность | Медленнее | Быстрее |
| Память | Больше | Меньше |
| Методы | Много | Мало |

### Индексация и срезы

Как списки, так и кортежи поддерживают индексацию и срезы:

```python
my_list = [10, 20, 30, 40, 50]
my_tuple = (10, 20, 30, 40, 50)

# Индексация
print(my_list[0])      # 10
print(my_tuple[2])     # 30
print(my_list[-1])     # 50
print(my_tuple[-2])    # 40

# Срезы
print(my_list[1:4])    # [20, 30, 40]
print(my_tuple[2:])    # (30, 40, 50)
print(my_list[:3])     # [10, 20, 30]
print(my_tuple[::-1])  # (50, 40, 30, 20, 10)
```

### Методы списков

Списки имеют множество методов для манипуляции данными:

#### Добавление элементов

```python
fruits = ["яблоко", "банан"]

# append() - добавляет элемент в конец списка
fruits.append("апельсин")
print(fruits)  # ["яблоко", "банан", "апельсин"]

# insert() - вставляет элемент по указанному индексу
fruits.insert(1, "груша")
print(fruits)  # ["яблоко", "груша", "банан", "апельсин"]

# extend() - добавляет элементы из другой коллекции
more_fruits = ["виноград", "манго"]
fruits.extend(more_fruits)
print(fruits)  # ["яблоко", "груша", "банан", "апельсин", "виноград", "манго"]
```

#### Удаление элементов

```python
numbers = [1, 2, 3, 4, 5, 3]

# remove() - удаляет первое вхождение элемента
numbers.remove(3)
print(numbers)  # [1, 2, 4, 5, 3]

# pop() - удаляет элемент по индексу и возвращает его
removed_element = numbers.pop(1)
print(removed_element)  # 2
print(numbers)         # [1, 4, 5, 3]

# pop() без индекса удаляет последний элемент
last_element = numbers.pop()
print(last_element)    # 3
print(numbers)         # [1, 4, 5]

# clear() - удаляет все элементы
numbers.clear()
print(numbers)         # []
```

#### Поиск и подсчет элементов

```python
letters = ['a', 'b', 'c', 'b', 'd', 'b']

# index() - возвращает индекс первого вхождения
print(letters.index('b'))      # 1

# count() - возвращает количество вхождений
print(letters.count('b'))      # 3
```

#### Сортировка и реверс

```python
numbers = [5, 2, 8, 1, 9]

# sort() - сортирует список на месте
numbers.sort()
print(numbers)  # [1, 2, 5, 8, 9]

# reverse() - переворачивает список
numbers.reverse()
print(numbers)  # [9, 8, 5, 2, 1]

# sorted() - возвращает новый отсортированный список
original = [3, 1, 4, 1, 5]
sorted_list = sorted(original)
print(sorted_list)   # [1, 1, 3, 4, 5]
print(original)      # [3, 1, 4, 1, 5] - оригинальный список не изменился
```

### Операции с кортежами

Кортежи поддерживают меньшее количество методов, но все равно имеют свои возможности:

```python
coordinates = (10, 20, 30, 20, 40)

# count() - подсчет вхождений элемента
print(coordinates.count(20))    # 2

# index() - индекс первого вхождения
print(coordinates.index(30))    # 2

# Операции конкатенации и повторения
tuple1 = (1, 2, 3)
tuple2 = (4, 5, 6)
combined = tuple1 + tuple2      # (1, 2, 3, 4, 5, 6)
repeated = tuple1 * 3           # (1, 2, 3, 1, 2, 3, 1, 2, 3)
```

### Итерация по коллекциям

Оба типа коллекций поддерживают итерацию:

```python
# Список
my_list = [1, 2, 3, 4, 5]
for item in my_list:
    print(item)

# Кортеж
my_tuple = ("a", "b", "c", "d")
for item in my_tuple:
    print(item)

# С использованием enumerate для получения индексов
for index, value in enumerate(my_list):
    print(f"Индекс {index}: {value}")
```

### Проверка вхождения элементов

```python
my_list = [1, 2, 3, 4, 5]
my_tuple = (10, 20, 30, 40)

print(3 in my_list)      # True
print(6 in my_list)      # False
print(20 in my_tuple)    # True
print(25 in my_tuple)    # False
```

### Распаковка коллекций

```python
# Распаковка списка
colors = ["красный", "зеленый", "синий"]
first, second, third = colors
print(first)   # "красный"
print(second)  # "зеленый"
print(third)   # "синий"

# Распаковка кортежа
point = (10, 20)
x, y = point
print(f"Координаты: x={x}, y={y}")

# Использование * для захвата оставшихся элементов
numbers = [1, 2, 3, 4, 5]
first, *middle, last = numbers
print(first)   # 1
print(middle)  # [2, 3, 4]
print(last)    # 5
```

### Списковые включения (List Comprehensions)

Списковые включения - это мощный способ создания списков:

```python
# Создание списка квадратов чисел от 0 до 9
squares = [x**2 for x in range(10)]
print(squares)  # [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# Создание списка четных чисел
evens = [x for x in range(20) if x % 2 == 0]
print(evens)   # [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

# Преобразование строк в числа
strings = ["1", "2", "3", "4", "5"]
numbers = [int(s) for s in strings]
print(numbers)  # [1, 2, 3, 4, 5]

# Работа с текстом
words = ["python", "programming", "language"]
capitalized = [word.capitalize() for word in words]
print(capitalized)  # ['Python', 'Programming', 'Language']
```

### Копирование списков

При работе со списками важно понимать разницу между поверхностным и глубоким копированием:

```python
import copy

original = [1, 2, [3, 4]]

# Поверхностное копирование
shallow_copy = original.copy()  # или original[:]
shallow_copy[0] = 999
shallow_copy[2][0] = 888

print(original)     # [1, 2, [888, 4]] - вложенный список изменился!
print(shallow_copy) # [999, 2, [888, 4]]

# Глубокое копирование
original = [1, 2, [3, 4]]
deep_copy = copy.deepcopy(original)
deep_copy[2][0] = 777

print(original)  # [1, 2, [3, 4]] - оригинал не изменился
print(deep_copy) # [1, 2, [777, 4]]
```

### Когда использовать списки, а когда кортежи

**Используйте списки, когда:**
- Нужно изменять содержимое коллекции
- Коллекция может расти или уменьшаться
- Нужны методы для добавления, удаления или изменения элементов
- Порядок элементов может измениться (например, после сортировки)

**Используйте кортежи, когда:**
- Коллекция не должна изменяться
- Нужна защита от случайного изменения данных
- Коллекция используется как ключ в словаре (списки не могут быть ключами)
- Нужна лучшая производительность
- Данные представляют собой структурированную запись (координаты, дата и время и т.д.)

## Практические примеры

### Пример 1: Работа с данными студентов

```python
# Список студентов с их оценками
students = [
    ("Иванов", [5, 4, 5, 4]),
    ("Петров", [3, 4, 3, 5]),
    ("Сидоров", [5, 5, 5, 5])
]

# Вычисление среднего балла для каждого студента
for name, grades in students:
    average = sum(grades) / len(grades)
    print(f"{name}: средний балл {average:.2f}")

# Найти студента с лучшим средним баллом
best_student = max(students, key=lambda student: sum(student[1]) / len(student[1]))
print(f"Лучший студент: {best_student[0]}")
```

### Пример 2: Работа с координатами

```python
# Список точек (координаты - кортежи)
points = [(0, 0), (1, 1), (2, 3), (5, 2)]

# Вычисление расстояния от начала координат
import math
distances = []
for x, y in points:
    distance = math.sqrt(x**2 + y**2)
    distances.append(distance)

# Вывод точек с расстояниями
for i, point in enumerate(points):
    print(f"Точка {point}: расстояние {distances[i]:.2f}")
```

### Пример 3: Фильтрация данных

```python
# Список продуктов с ценами
products = [
    ("Яблоки", 50),
    ("Бананы", 70),
    ("Апельсины", 80),
    ("Груши", 60),
    ("Мандарины", 90)
]

# Найти продукты дешевле 75
cheap_products = [product for product in products if product[1] < 75]
print("Дешевые продукты:", cheap_products)

# Сортировка по цене
sorted_by_price = sorted(products, key=lambda x: x[1])
print("Сортировка по цене:", sorted_by_price)
```

## Заключение

В этой лекции мы подробно рассмотрели списки и кортежи в Python:

1. **Списки** - изменяемые коллекции с широким набором методов для манипуляции данными
2. **Кортежи** - неизменяемые коллекции, которые обеспечивают лучшую производительность и защиту данных
3. **Основные операции** - индексация, срезы, итерация, проверка вхождения
4. **Методы списков** - добавление, удаление, сортировка, подсчет элементов
5. **Списковые включения** - мощный инструмент для создания списков
6. **Когда использовать** каждый из типов коллекций

Списки и кортежи являются фундаментальными структурами данных в Python и применяются во многих задачах программирования. В следующей лекции мы рассмотрим словари и множества - другие важные типы коллекций в Python.
