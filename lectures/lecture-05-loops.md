# Лекция 5: Циклы

## Введение

В предыдущей лекции мы изучили условные конструкции, которые позволяют программе принимать решения и выполнять разные блоки кода в зависимости от условий. Теперь мы рассмотрим еще одну важнейшую концепцию программирования — циклы. Циклы позволяют повторять выполнение блоков кода до тех пор, пока выполняется определенное условие или пока не будет обработан определенный набор данных. Циклы значительно упрощают написание программ, избавляя нас от необходимости повторять один и тот же код несколько раз.

## Основное содержание

### Циклы в программировании

Цикл — это управляющая конструкция, которая позволяет многократно выполнять блок кода. В Python есть два основных типа циклов:
- `for` — цикл с параметром, используется для перебора элементов коллекции
- `while` — цикл с условием, продолжает выполнение до тех пор, пока условие истинно

Циклы особенно полезны, когда:
- Нужно выполнить одно и то же действие несколько раз
- Нужно обработать элементы коллекции (списка, строки и т.д.)
- Нужно выполнить вычисления с определенной точностью
- Нужно ожидать определенного события

### Цикл `for`

Цикл `for` в Python используется для перебора элементов в коллекции (списке, строке, кортеже и т.д.). Он особенно удобен, когда известно количество итераций или когда нужно обработать все элементы коллекции.

#### Базовый синтаксис

```python
for переменная in коллекция:
    # блок кода для выполнения
```

#### Примеры использования

##### Перебор элементов списка

```python
fruits = ["яблоко", "банан", "апельсин"]

for fruit in fruits:
    print(f"Я люблю {fruit}")
```

Результат:
```
Я люблю яблоко
Я люблю банан
Я люблю апельсин
```

##### Использование функции `range()`

Функция `range()` генерирует последовательность чисел и часто используется в цикле `for` для выполнения кода определенное количество раз.

```python
# Вывод чисел от 0 до 4
for i in range(5):
    print(i)
```

```python
# Вывод чисел от 1 до 10
for i in range(1, 11):
    print(i)
```

```python
# Вывод четных чисел от 0 до 10
for i in range(0, 11, 2):
    print(i)
```

Параметры `range(start, stop, step)`:
- `start` — начальное значение (включительно)
- `stop` — конечное значение (не включительно)
- `step` — шаг (по умолчанию 1)

##### Перебор строк

```python
word = "Python"
for char in word:
    print(char)
```

##### Перебор с индексами

Иногда нужно получить не только значение элемента, но и его индекс. Для этого можно использовать функцию `enumerate()`:

```python
colors = ["красный", "зеленый", "синий"]

for index, color in enumerate(colors):
    print(f"{index}: {color}")
```

### Цикл `while`

Цикл `while` продолжает выполнение блока кода до тех пор, пока условие истинно. Он особенно полезен, когда количество итераций заранее неизвестно.

#### Базовый синтаксис

```python
while условие:
    # блок кода для выполнения
```

#### Примеры использования

##### Простой счетчик

```python
i = 1
while i <= 5:
    print(i)
    i += 1  # увеличиваем i на 1
```

##### Ввод данных до тех пор, пока не будет введен правильный вариант

```python
password = ""
while password != "secret":
    password = input("Введите пароль: ")
print("Доступ разрешен!")
```

##### Обработка данных до тех пор, пока они не закончатся

```python
numbers = [1, 2, 3, 4, 5]
i = 0
while i < len(numbers):
    print(numbers[i])
    i += 1
```

### Операторы `break` и `continue`

#### `break`

Оператор `break` позволяет немедленно выйти из цикла, даже если условие цикла все еще истинно.

```python
for i in range(10):
    if i == 5:
        break
    print(i)
# Вывод: 0, 1, 2, 3, 4
```

```python
i = 0
while i < 10:
    if i == 5:
        break
    print(i)
    i += 1
# Вывод: 0, 1, 2, 3, 4
```

#### `continue`

Оператор `continue` пропускает оставшуюся часть текущей итерации и переходит к следующей итерации цикла.

```python
for i in range(5):
    if i == 2:
        continue
    print(i)
# Вывод: 0, 1, 3, 4
```

```python
i = 0
while i < 5:
    i += 1
    if i == 2:
        continue
    print(i)
# Вывод: 1, 3, 4, 5
```

### Вложенные циклы

Циклы могут быть вложенными, то есть один цикл может находиться внутри другого. Это особенно полезно для обработки двумерных структур данных или для создания сложных паттернов.

#### Пример: Вывод таблицы умножения

```python
for i in range(1, 4):
    for j in range(1, 4):
        print(f"{i} x {j} = {i*j}", end="\t")
    print()  # переход на новую строку после каждой строки таблицы
```

#### Пример: Создание паттерна

```python
size = 5
for i in range(size):
    for j in range(i + 1):
        print("*", end="")
    print()
```

Результат:
```
*
**
***
****
*****
```

### Практические примеры

#### Пример 1: Сумма чисел

```python
# С помощью цикла for
numbers = [1, 2, 3, 4, 5]
sum = 0
for num in numbers:
    sum += num
print(f"Сумма: {sum}")

# С помощью цикла while
numbers = [1, 2, 3, 4, 5]
sum = 0
i = 0
while i < len(numbers):
    sum += numbers[i]
    i += 1
print(f"Сумма: {sum}")
```

#### Пример 2: Поиск максимального элемента

```python
numbers = [3, 7, 2, 9, 1]
max_num = numbers[0]

for num in numbers[1:]:
    if num > max_num:
        max_num = num

print(f"Максимальное число: {max_num}")
```

#### Пример 3: Проверка простого числа

```python
def is_prime(n):
    if n < 2:
        return False
    
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0:
            return False
    return True

num = int(input("Введите число: "))
if is_prime(num):
    print(f"{num} - простое число")
else:
    print(f"{num} - не простое число")
```

#### Пример 4: Игра "Угадай число"

```python
import random

secret_number = random.randint(1, 100)
attempts = 0
guess = 0

print("Угадайте число от 1 до 100")

while guess != secret_number:
    guess = int(input("Введите ваше предположение: "))
    attempts += 1
    
    if guess < secret_number:
        print("Загаданное число больше")
    elif guess > secret_number:
        print("Загаданное число меньше")
    else:
        print(f"Поздравляем! Вы угадали число за {attempts} попыток")
```

#### Пример 5: Обработка строк

```python
text = "Программирование на Python"
vowels = "аеёиоуыэюя"
vowel_count = 0

for char in text.lower():
    if char in vowels:
        vowel_count += 1

print(f"Количество гласных в строке: {vowel_count}")
```

### Оптимизация и лучшие практики

#### Использование встроенных функций

Вместо написания циклов для простых операций, часто лучше использовать встроенные функции Python:

```python
# Вместо этого:
numbers = [1, 2, 3, 4, 5]
sum = 0
for num in numbers:
    sum += num

# Лучше использовать:
sum = sum(numbers)

# Вместо этого:
numbers = [1, 2, 3, 4, 5]
squares = []
for num in numbers:
    squares.append(num ** 2)

# Лучше использовать:
squares = [num ** 2 for num in numbers]  # списковое включение
```

#### Избегайте бесконечных циклов

При использовании цикла `while` убедитесь, что условие в какой-то момент станет ложным:

```python
# ПЛОХО - бесконечный цикл
# while True:
#     print("Это бесконечный цикл")

# ХОРОШО - корректный выход из цикла
counter = 0
while counter < 5:
    print(counter)
    counter += 1
```

## Заключение

Циклы — это мощный инструмент программирования, который позволяет эффективно повторять выполнение кода. В Python есть два основных типа циклов:
- `for` — для перебора элементов коллекции
- `while` — для выполнения кода до тех пор, пока условие истинно

Мы также изучили важные операторы:
- `break` — для немедленного выхода из цикла
- `continue` — для пропуска текущей итерации и перехода к следующей

Циклы могут быть вложенными, что позволяет решать более сложные задачи, такие как обработка двумерных структур данных или создание сложных паттернов.

Понимание циклов критически важно для программирования, так как они позволяют автоматизировать повторяющиеся задачи и обрабатывать большие объемы данных. В следующих лекциях мы продолжим изучение других важных концепций программирования, таких как строки и работа с текстом.
