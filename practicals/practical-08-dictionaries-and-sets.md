# Практическая работа 8: Словари и множества

## Цель работы

Научиться использовать словари и множества в Python, освоить основные операции с ними: создание, добавление, удаление, изменение элементов, а также применение словарей и множеств для решения задач обработки данных.

## Теоретическая часть

**Словарь** - это неупорядоченная коллекция пар "ключ-значение", где каждый ключ связан с определенным значением. Ключи в словаре должны быть уникальными и неизменяемыми.

**Множество** - это неупорядоченная коллекция уникальных элементов. Множества не допускают дубликатов и не поддерживают индексацию, но позволяют эффективно выполнять операции объединения, пересечения и разности.

```python
# Примеры создания словарей
empty_dict = {}
person = {"name": "Иван", "age": 30, "city": "Москва"}
another_dict = dict(name="Мария", age=25, city="СПб")

# Примеры создания множеств
empty_set = set()
numbers = {1, 2, 3, 4, 5}
unique_chars = set("hello")  # {'h', 'e', 'l', 'o'}
```

## Практические задания

### Задание 1: Создание словаря

Создайте программу, которая запрашивает у пользователя информацию о себе (имя, возраст, город) и сохраняет ее в словарь. Затем выведите всю информацию из словаря.

**Пример выполнения:**
```
Введите ваше имя: Алексей
Введите ваш возраст: 25
Введите ваш город: Москва
Информация о пользователе:
Имя: Алексей
Возраст: 25
Город: Москва
```

**Код для выполнения:**
```python
person = {}

person["name"] = input("Введите ваше имя: ")
person["age"] = int(input("Введите ваш возраст: "))
person["city"] = input("Введите ваш город: ")

print("Информация о пользователе:")
for key, value in person.items():
    print(f"{key.capitalize()}: {value}")
```

---

### Задание 2: Работа с ключами и значениями

Создайте программу, которая:
1. Создает словарь с названиями месяцев и количеством дней в них
2. Выводит все ключи и значения словаря
3. Находит месяцы с 31 днем

**Пример выполнения:**
```
Все месяцы: ['январь', 'февраль', 'март', ...]
Все значения: [31, 28, 31, ...]
Месяцы с 31 днем: ['январь', 'март', 'май', 'июль', 'август', 'октябрь', 'декабрь']
```

**Код для выполнения:**
```python
months = {
    "январь": 31,
    "февраль": 28,
    "март": 31,
    "апрель": 30,
    "май": 31,
    "июнь": 30,
    "июль": 31,
    "август": 31,
    "сентябрь": 30,
    "октябрь": 31,
    "ноябрь": 30,
    "декабрь": 31
}

print(f"Все месяцы: {list(months.keys())}")
print(f"Все значения: {list(months.values())}")

months_with_31 = [month for month, days in months.items() if days == 31]
print(f"Месяцы с 31 днем: {months_with_31}")
```

---

### Задание 3: Подсчет частоты слов

Создайте программу, которая принимает текст от пользователя и подсчитывает частоту каждого слова в тексте, используя словарь.

**Пример выполнения:**
```
Введите текст: Привет мир мир
Частота слов: {'привет': 1, 'мир': 2}
```

**Код для выполнения:**
```python
text = input("Введите текст: ").lower()
words = text.split()

word_count = {}
for word in words:
    word_count[word] = word_count.get(word, 0) + 1

print(f"Частота слов: {word_count}")
```

---

### Задание 4: Работа с множествами

Создайте программу, которая:
1. Запрашивает у пользователя два списка чисел
2. Создает из них множества
3. Выводит операции над множествами: объединение, пересечение, разность

**Пример выполнения:**
```
Введите числа первого списка: 1 2 3 4 5
Введите числа второго списка: 4 5 6 7 8
Объединение: {1, 2, 3, 4, 5, 6, 7, 8}
Пересечение: {4, 5}
Разность (первое - второе): {1, 2, 3}
```

**Код для выполнения:**
```python
list1_str = input("Введите числа первого списка: ")
list2_str = input("Введите числа второго списка: ")

set1 = set(int(x) for x in list1_str.split())
set2 = set(int(x) for x in list2_str.split())

print(f"Объединение: {set1 | set2}")
print(f"Пересечение: {set1 & set2}")
print(f"Разность (первое - второе): {set1 - set2}")
print(f"Разность (второе - первое): {set2 - set1}")
print(f"Симметрическая разность: {set1 ^ set2}")
```

---

### Задание 5: Удаление дубликатов с помощью множеств

Создайте программу, которая удаляет дубликаты из списка, используя множества, и сохраняет порядок элементов.

**Пример выполнения:**
```
Введите числа через пробел: 1 2 3 2 4 1 5 3
Список без дубликатов: [1, 2, 3, 4, 5]
```

**Код для выполнения:**
```python
numbers_str = input("Введите числа через пробел: ")
numbers = [int(x) for x in numbers_str.split()]

# Удаление дубликатов с сохранением порядка
unique_numbers = []
seen = set()

for num in numbers:
    if num not in seen:
        unique_numbers.append(num)
        seen.add(num)

print(f"Список без дубликатов: {unique_numbers}")
```

---

### Задание 6: Телефонная книга

Создайте программу телефонной книги, которая позволяет:
- Добавлять контакты (имя и номер телефона)
- Искать контакты по имени
- Выводить все контакты
- Удалять контакты

**Пример выполнения:**
```
1. Добавить контакт
2. Найти контакт
3. Показать все контакты
4. Удалить контакт
5. Выйти
Выберите действие: 1
Введите имя: Иван
Введите номер: +71234567890
Контакт добавлен
```

**Код для выполнения:**
```python
phone_book = {}

while True:
    print("\n1. Добавить контакт")
    print("2. Найти контакт")
    print("3. Показать все контакты")
    print("4. Удалить контакт")
    print("5. Выйти")
    
    choice = input("Выберите действие: ")
    
    if choice == "1":
        name = input("Введите имя: ")
        phone = input("Введите номер: ")
        phone_book[name] = phone
        print("Контакт добавлен")
    elif choice == "2":
        name = input("Введите имя для поиска: ")
        if name in phone_book:
            print(f"Номер {name}: {phone_book[name]}")
        else:
            print("Контакт не найден")
    elif choice == "3":
        if phone_book:
            print("Все контакты:")
            for name, phone in phone_book.items():
                print(f"{name}: {phone}")
        else:
            print("Телефонная книга пуста")
    elif choice == "4":
        name = input("Введите имя для удаления: ")
        if name in phone_book:
            del phone_book[name]
            print("Контакт удален")
        else:
            print("Контакт не найден")
    elif choice == "5":
        break
    else:
        print("Неверный выбор")
```

---

### Задание 7: Статистика символов

Создайте программу, которая анализирует текст и выводит статистику по символам:
- Количество уникальных символов
- Наиболее часто встречающийся символ
- Множество гласных, встречающихся в тексте

**Пример выполнения:**
```
Введите текст: привет
Количество уникальных символов: 5
Наиболее часто встречающийся символ: п
Гласные в тексте: {'и', 'е'}
```

**Код для выполнения:**
```python
text = input("Введите текст: ").lower()

# Количество уникальных символов
unique_chars = set(text)
print(f"Количество уникальных символов: {len(unique_chars)}")

# Наиболее часто встречающийся символ
char_count = {}
for char in text:
    char_count[char] = char_count.get(char, 0) + 1

most_frequent = max(char_count, key=char_count.get)
print(f"Наиболее часто встречающийся символ: {most_frequent}")

# Множество гласных
vowels = set("аеёиоуыэюяaeiou")
vowels_in_text = set(char for char in text if char in vowels)
print(f"Гласные в тексте: {vowels_in_text}")
```

---

### Задание 8: Словарь с вложенными структурами

Создайте программу, которая хранит информацию о студентах в виде словаря, где ключ - это имя студента, а значение - словарь с информацией (возраст, специальность, список оценок).

**Пример выполнения:**
```
Введите имя студента: Иван
Введите возраст: 20
Введите специальность: Информатика
Введите оценки через пробел: 5 4 5 5
Студент добавлен

Список студентов:
Иван: 20 лет, специальность: Информатика, средний балл: 4.75
```

**Код для выполнения:**
```python
students = {}

name = input("Введите имя студента: ")
age = int(input("Введите возраст: "))
major = input("Введите специальность: ")
grades_str = input("Введите оценки через пробел: ")
grades = [int(x) for x in grades_str.split()]

students[name] = {
    "age": age,
    "major": major,
    "grades": grades
}

print("Студент добавлен")

# Вывод информации о студентах
print("\nСписок студентов:")
for name, info in students.items():
    avg_grade = sum(info["grades"]) / len(info["grades"])
    print(f"{name}: {info['age']} лет, специальность: {info['major']}, средний балл: {avg_grade:.2f}")
```

---

### Задание 9: Операции над множествами (усложненное)

Создайте программу, которая моделирует отношения между студентами и курсами:
- Студенты записываются на курсы
- Программа может находить студентов, записавшихся на определенный курс
- Находить курсы, на которые записался определенный студент
- Находить студентов, записавшихся на все курсы

**Пример выполнения:**
```
Введите имя студента: Иван
Введите курс: Python
Студент записан на курс

Студенты на курсе Python: {'Иван', 'Мария'}
Курсы студента Иван: {'Python', 'Математика'}
```

**Код для выполнения:**
```python
# Словарь, где ключ - имя студента, значение - множество курсов
student_courses = {}

# Словарь, где ключ - название курса, значение - множество студентов
course_students = {}

# Пример данных
student_courses["Иван"] = {"Python", "Математика"}
student_courses["Мария"] = {"Python", "Физика"}
student_courses["Алексей"] = {"Математика", "Физика"}

# Обновляем course_students на основе student_courses
for student, courses in student_courses.items():
    for course in courses:
        if course not in course_students:
            course_students[course] = set()
        course_students[course].add(student)

# Вывод информации
student_name = "Иван"
course_name = "Python"

print(f"Студенты на курсе {course_name}: {course_students.get(course_name, set())}")
print(f"Курсы студента {student_name}: {student_courses.get(student_name, set())}")
```

---

### Задание 10: Анаграммы

Создайте программу, которая проверяет, являются ли два слова анаграммами (состоят из одних и тех же букв в одинаковом количестве).

**Пример выполнения:**
```
Введите первое слово: лотос
Введите второе слово: столо
Слова являются анаграммами: True
```

**Код для выполнения:**
```python
def are_anagrams(word1, word2):
    # Удаляем пробелы и приводим к нижнему регистру
    word1 = word1.replace(" ", "").lower()
    word2 = word2.replace(" ", "").lower()
    
    # Проверяем, если длины разные, то не анаграммы
    if len(word1) != len(word2):
        return False
    
    # Сравниваем отсортированные символы или множества
    return sorted(word1) == sorted(word2)

word1 = input("Введите первое слово: ")
word2 = input("Введите второе слово: ")

result = are_anagrams(word1, word2)
print(f"Слова являются анаграммами: {result}")
```

---

## Контрольные вопросы

1. Как создать пустой словарь и пустое множество?
2. В чем разница между словарем и множеством?
3. Как получить значение из словаря по ключу?
4. Как проверить, существует ли ключ в словаре?
5. Какие операции можно выполнять над множествами?
6. Как добавить элемент в множество?
7. Какие методы словарей вы использовали в работе?
8. Почему множества эффективны для удаления дубликатов?

## Вывод

В ходе этой практической работы были освоены основные операции со словарями и множествами в Python. Были рассмотрены методы создания, изменения, поиска и обработки данных с использованием этих структур. Словари и множества позволяют эффективно организовывать и обрабатывать данные, особенно когда требуется быстрый доступ к информации или удаление дубликатов.
